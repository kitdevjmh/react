# Web Programming
## 2025.04.17 학습내용

### 7.1 훅이란 무엇인가?
- 리액트는 컴포넌트 기반이다.
- `state`는 리액트 컴포넌트의 변경 가능한 데이터로, 렌더링에 필요한 데이터를 관리한다.
- **클래스 컴포넌트**는 생성자에서 `state`를 정의하고, `setState()`로 업데이트한다.
- **함수 컴포넌트**는 코드가 간결하지만 별도로 `state`를 정의할 수 없다.
- 이를 보완하기 위해 나온 것이 **훅(Hooks)** 이다.
- 훅은 리액트의 `state`와 생명주기 기능에 갈고리를 걸어 원하는 시점에 정해진 함수를 실행시킨다.
- SPA (Single Page Application)에서 많이 사용됨.

---

### 7.2 useState
- `state`를 사용하기 위한 훅.

---

### 7.3 useEffect
- 사이드 이펙트(부수 효과)를 수행하기 위한 훅.
- 사이드 이펙트란 서버에서 데이터 받아오기, 수동 DOM 변경 등 렌더링 외 작업.
- 클래스 컴포넌트의 생명주기 함수와 같은 역할.
- `useState()`와 함께 가장 많이 쓰임.
- 의존성 배열 없이 사용 시:
  - DOM 변경 후 이펙트 함수 실행.
  - 처음 렌더링과 매 렌더링 시마다 실행.
  - `componentDidMount()`, `componentDidUpdate()`와 동일.
- `useEffect()`에서 리턴하는 함수는 컴포넌트 언마운트 시 호출 (`componentWillUnmount()`와 동일).
- 의존성 배열:
  - 배열 내 변수 값 변경 시 이펙트 함수 실행.
  - 빈 배열 `[]` 넣으면 마운트와 언마운트 시 한 번씩만 실행.

---

### 7.4 useMemo
- 메모이제이션된 값을 반환하는 훅.
- 파라미터로 메모이제이션 값을 생성하는 함수와 의존성 배열을 받음.
- 의존성 배열 내 변수 변경 시에만 함수 호출, 결과 반환.
- 연산량 높은 작업 반복 방지로 렌더링 속도 향상.
- 렌더링 중 함수 실행됨. 렌더링 중 실행되면 안 되는 작업은 넣지 말 것.
- 의존성 배열 없으면 매 렌더링마다 함수 실행되어 의미 없음.

---

### 7.5 useCallback
- `useMemo()`와 유사하나, **값이 아닌 함수를 반환**.
- 파라미터로 콜백 함수와 의존성 배열을 받음.
- 의존성 배열 내 변수 변경 시에만 콜백 함수 재생성.
- 함수 재정의가 없으면 자식 컴포넌트 재렌더링 방지 가능.

---

### 7.6 useRef
- 특정 컴포넌트에 접근하는 레퍼런스를 위한 훅.
- 초기값으로 초기화된 레퍼런스 객체 반환.
- 렌더링 시 항상 같은 레퍼런스 객체 유지.
- `.current` 속성으로 접근 가능.
- 예) 버튼 클릭 시 `<input>`에 포커스 주기.

---

### 7.7 훅의 규칙
- 최상위 레벨에서만 호출해야 함.
- 반복문, 조건문, 중첩 함수 내부에서 호출 금지.
- 컴포넌트 렌더링 시 항상 같은 순서로 호출해야 함.
- 리액트 함수 컴포넌트 혹은 커스텀 훅 내에서만 호출 가능.

---

### 7.7 나만의 훅 만들기 (커스텀 훅)
- 여러 컴포넌트에서 반복되는 로직을 훅으로 만들어 재사용 가능.
- 이름은 반드시 `use`로 시작.
- 내부에서 다른 훅을 호출하는 단순 자바스크립트 함수.
- 파라미터와 반환값은 개발자가 자유롭게 정의.
- `use`로 시작하지 않으면 훅 규칙 위반 검사 어려움.

---

### 7.8 나만의 훅 만들기 예시
- `UserStatus` : 온라인 상태에 따라 텍스트 표시.
- `UserListItem` : 연락처 목록, 온라인 사용자 이름 초록색 표시.

---

### 7.9 훅을 사용한 컴포넌트 개발
- `useCounter()` 커스텀 훅 제작.
- `Accommodate` 컴포넌트 제작.
- `useEffect()` 훅 사용법
  - 의존성 배열 X: 마운트 직후 및 매 업데이트 시 호출.
  - 의존성 배열 O: 마운트 직후 및 특정 값 변경 시 호출.
- 상태 관리 예: 카운트가 일정 범위를 벗어나지 않도록 제한 (`Math.max()` 활용).
- `npm start`로 애플리케이션 실행.

---

> **참고:**  
> - 훅은 함수 컴포넌트에서 상태 관리 및 라이프사이클 기능을 간결하게 구현하는 핵심 도구입니다.  
> - 커스텀 훅으로 로직 재사용성과 코드 유지보수성을 높일 수 있습니다.

